{
  "name": "03 Product Agent — Weekly Digital Product Creation",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtDay": [2],
              "triggerAtHour": 9,
              "triggerAtMinute": 0
            }
          ]
        }
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000001",
      "name": "Schedule: Every Tuesday 9am",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "prod-ctx-001",
              "name": "product_prompt",
              "value": "=Today is {{ $now.toFormat('cccc, MMMM d yyyy') }}. Research what AI automation digital products people are looking for this week. Then create one complete, high-quality digital product ready to sell at $9–$29.",
              "type": "string"
            },
            {
              "id": "prod-ctx-002",
              "name": "product_week",
              "value": "={{ $now.weekNumber }}",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000002",
      "name": "Set Product Context",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [460, 300]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.product_prompt }}",
        "options": {
          "systemMessage": "You are the Product Agent for an AI Content Media & Digital Products company. Every week your job is to create ONE new digital product that can be sold instantly via Stripe with zero manual work.\n\nProduct Types (rotate weekly):\n- **Prompt Pack**: 30–50 carefully crafted GPT-4o prompts for a specific use case (e.g., 'Freelancer Productivity Prompts', 'n8n Workflow Prompts')\n- **n8n Workflow Template**: A complete n8n workflow JSON + setup guide for a common automation\n- **AI Starter Guide**: 1,500–2,500 word PDF-ready guide on using AI for a specific task\n- **Automation Checklist**: Detailed checklist + resources for automating a specific business process\n\nProcess:\n1. MARKET RESEARCH: Use web_search to find what AI automation products are selling well this week. Look for Reddit/Twitter/forums discussions about automation pain points.\n2. PRODUCT SELECTION: Pick the product type and topic with highest demand signal this week.\n3. CREATE PRODUCT: Write the complete product content (ready to deliver as-is via email):\n   - Full title and subtitle\n   - Price recommendation ($9 / $19 / $29)\n   - Short description (for Ghost/Stripe product page, 100 words)\n   - Complete product content (all prompts, or full guide, or full workflow JSON + instructions)\n   - Delivery format: Markdown text ready to be converted to PDF or .txt file\n4. GHOST POST: Create a paid Ghost post draft with the product as gated content.\n\nOutput JSON: { productType, title, subtitle, price, description, content, deliveryFormat, ghostPostReady, weekNumber, demandSignal }\n\nFORBIDDEN: Plagiarism, fake reviews, misleading product descriptions, overpricing thin content."
        }
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000003",
      "name": "Product Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.6,
      "position": [700, 300]
    },
    {
      "parameters": {
        "model": "gpt-4o",
        "options": {
          "temperature": 0.6,
          "maxTokens": 4000
        }
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000004",
      "name": "OpenAI GPT-4o",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.1,
      "position": [480, 520],
      "credentials": {
        "openAiApi": {
          "id": "REPLACE_WITH_YOUR_OPENAI_CREDENTIAL_ID",
          "name": "OpenAI API"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "product_agent_memory"
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000005",
      "name": "Product Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.2,
      "position": [700, 520]
    },
    {
      "parameters": {
        "name": "web_search",
        "description": "Search the web for trending AI/automation pain points, popular digital products, and Reddit/Twitter discussions about what people need help automating. Use this before deciding what product to create.",
        "method": "GET",
        "url": "https://api.search.brave.com/res/v1/web/search",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "parametersQuery": {
          "values": [
            {
              "name": "q",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `search query for trending AI automation products or pain points`, 'string') }}"
            },
            {
              "name": "count",
              "value": "10"
            },
            {
              "name": "freshness",
              "value": "pw"
            }
          ]
        },
        "options": {}
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000006",
      "name": "Tool: Market Research",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [920, 520]
    },
    {
      "parameters": {
        "name": "create_ghost_product_post",
        "description": "Create a paid Ghost post (gated content) for the new digital product. The post will serve as the product page and delivery mechanism for paid subscribers. Provide JSON: { title, html_content, price_label, excerpt }",
        "language": "javaScript",
        "jsCode": "const params = $input.first().json;\nconst title   = params.title   || 'New AI Product';\nconst excerpt = params.excerpt || params.description || '';\nconst html    = params.html_content || `<p>${params.content || ''}</p>`;\n\nconst ghostUrl = $env.GHOST_API_URL || '';\nconst ghostKey = $env.GHOST_ADMIN_API_KEY || '';\nif (!ghostUrl || !ghostKey) throw new Error('GHOST_API_URL and GHOST_ADMIN_API_KEY env vars must be set');\n\nconst payload = {\n  posts: [{\n    title,\n    html,\n    excerpt,\n    status: 'draft',\n    visibility: 'paid',\n    tags: [{ name: 'product' }, { name: 'digital-download' }]\n  }]\n};\n\nconst response = await this.helpers.httpRequest({\n  method: 'POST',\n  url: `${ghostUrl}/ghost/api/admin/posts/`,\n  headers: {\n    'Authorization': `Ghost ${ghostKey}`,\n    'Content-Type': 'application/json',\n    'Accept-Version': 'v5.0'\n  },\n  body: JSON.stringify(payload)\n});\n\nconst post = response.posts?.[0];\nreturn { success: true, postId: post?.id, postUrl: post?.url, title };"
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000007",
      "name": "Tool: Publish to Ghost",
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1.1,
      "position": [1140, 520]
    },
    {
      "parameters": {
        "name": "read_existing_products",
        "description": "Read the existing Product_Catalog from Google Sheets to avoid creating duplicate products and to see what has sold well.",
        "method": "GET",
        "url": "https://sheets.googleapis.com/v4/spreadsheets/REPLACE_WITH_SPREADSHEET_ID/values/Product_Catalog",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleSheetsOAuth2Api",
        "options": {}
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000008",
      "name": "Tool: Read Product Catalog",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [1360, 520]
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "REPLACE_WITH_SPREADSHEET_ID",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "Product_Catalog",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "created_at": "={{ $now.toISO() }}",
            "week_number": "={{ $('Set Product Context').item.json.product_week }}",
            "product_result": "={{ $json.output }}",
            "status": "draft"
          }
        },
        "options": {}
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000009",
      "name": "Save to Product Catalog",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [960, 300],
      "continueOnFail": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "REPLACE_WITH_YOUR_GSHEETS_CREDENTIAL_ID",
          "name": "Google Sheets"
        }
      }
    }
  ],
  "connections": {
    "Schedule: Every Tuesday 9am": {
      "main": [
        [{ "node": "Set Product Context", "type": "main", "index": 0 }]
      ]
    },
    "Set Product Context": {
      "main": [
        [{ "node": "Product Agent", "type": "main", "index": 0 }]
      ]
    },
    "Product Agent": {
      "main": [
        [{ "node": "Save to Product Catalog", "type": "main", "index": 0 }]
      ]
    },
    "OpenAI GPT-4o": {
      "ai_languageModel": [
        [{ "node": "Product Agent", "type": "ai_languageModel", "index": 0 }]
      ]
    },
    "Product Memory": {
      "ai_memory": [
        [{ "node": "Product Agent", "type": "ai_memory", "index": 0 }]
      ]
    },
    "Tool: Market Research": {
      "ai_tool": [
        [{ "node": "Product Agent", "type": "ai_tool", "index": 0 }]
      ]
    },
    "Tool: Publish to Ghost": {
      "ai_tool": [
        [{ "node": "Product Agent", "type": "ai_tool", "index": 1 }]
      ]
    },
    "Tool: Read Product Catalog": {
      "ai_tool": [
        [{ "node": "Product Agent", "type": "ai_tool", "index": 2 }]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true
  },
  "meta": { "instanceId": "ai-company-v1" },
  "tags": [
    { "name": "product", "createdAt": "2026-02-25" },
    { "name": "digital-products", "createdAt": "2026-02-25" }
  ],
  "notes": "Runs every Tuesday 09:00. Product Agent researches weekly demand, creates one new digital product (prompt pack / n8n template / AI guide / checklist), publishes as paid Ghost draft, logs to Product_Catalog sheet. Required env vars: GHOST_API_URL, GHOST_ADMIN_API_KEY. Create 'Product_Catalog' sheet with columns: created_at, week_number, product_result, status."
}
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 9,
              "triggerAtMinute": 0
            }
          ]
        }
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000001",
      "name": "Schedule: Daily 9am",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "sales-ctx-001",
              "name": "sales_prompt",
              "value": "=Today is {{ $now.toFormat('cccc, MMMM d yyyy') }}. Execute today's sales activities: find new leads, write personalized outreach messages, and follow up with previous contacts. Focus on selling AI automation services and n8n workflow packages.",
              "type": "string"
            },
            {
              "id": "sales-ctx-002",
              "name": "target_leads_count",
              "value": 10,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000002",
      "name": "Set Sales Context",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [460, 300]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.sales_prompt }}",
        "options": {
          "systemMessage": "You are the Sales Agent for an AI automation company. Your daily mission is to grow revenue by finding and converting leads.\n\nTarget Customers:\n- Small business owners who need automation\n- Freelancers who want to scale with AI tools\n- Startups that need workflow automation\n- Marketing agencies needing content automation\n\nDaily Tasks:\n1. LEAD RESEARCH: Find 10 potential leads on LinkedIn/Twitter/Reddit who have expressed pain points around manual work, automation needs, or scaling\n2. PERSONALIZED OUTREACH: Write unique, value-first outreach messages (NOT generic spam)\n   - Reference specific pain points from their post/profile\n   - Offer one concrete, free tip before pitching\n   - Keep messages under 150 words\n   - Include a soft CTA (book a call, reply to this, check our tool)\n3. FOLLOW-UP: Create follow-up sequences for previous contacts (Day 3, Day 7)\n4. OFFER MANAGEMENT: Update service offerings based on market demand\n\nSERVICES TO SELL:\n- n8n workflow setup: $500–2,000 per project\n- AI agent monthly retainer: $300–1,000/month  \n- Content automation package: $200–500/month\n- Custom automation consulting: $150/hour\n\nFORBIDDEN: Mass spam, fake testimonials, pressure tactics, cold calls, purchasing email lists.\n\nOutput JSON with keys: leadsFound, outreachMessages, followUps, dailySummary"
        }
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000003",
      "name": "Sales Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.6,
      "position": [700, 300]
    },
    {
      "parameters": {
        "model": "gpt-4o",
        "options": {
          "temperature": 0.5,
          "maxTokens": 3500
        }
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000004",
      "name": "OpenAI GPT-4o",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.1,
      "position": [480, 520],
      "credentials": {
        "openAiApi": {
          "id": "REPLACE_WITH_YOUR_OPENAI_CREDENTIAL_ID",
          "name": "OpenAI API"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "sales_agent_memory"
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000005",
      "name": "Sales Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.2,
      "position": [700, 520]
    },
    {
      "parameters": {
        "name": "find_leads",
        "description": "Search for potential customers on social platforms and communities. Look for people expressing pain points around manual processes, automation needs, or content creation challenges.",
        "method": "GET",
        "url": "https://api.search.brave.com/res/v1/web/search",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "parametersQuery": {
          "values": [
            {
              "name": "q",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `lead search query like site:reddit.com automation pain point`, 'string') }}"
            },
            {
              "name": "count",
              "value": "15"
            },
            {
              "name": "freshness",
              "value": "pw"
            }
          ]
        },
        "options": {}
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000006",
      "name": "Tool: Find Leads",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [920, 520]
    },
    {
      "parameters": {
        "name": "send_outreach_email",
        "description": "Send a personalized outreach email to a prospect via SendGrid. Provide JSON with fields: to_email (string), subject (string), body (plain-text string under 150 words). The from-address is set automatically from the environment. Only use for genuine, value-first outreach.",
        "language": "javaScript",
        "jsCode": "// Send email via SendGrid — from-address loaded from environment variable\nconst params = $input.first().json;\nconst toEmail = params.to_email || params.email || params.to;\nconst subject = params.subject || 'A quick idea for you';\nconst body = params.body || params.message || params.content || '';\n\nif (!toEmail || !body) {\n  throw new Error('send_outreach_email requires to_email and body fields');\n}\n\n// These must be set as n8n environment variables\nconst fromEmail = $env.SENDGRID_FROM_EMAIL || 'hello@yourcompany.com';\nconst fromName  = $env.COMPANY_NAME || 'AI Automation Co';\nconst apiKey    = $env.SENDGRID_API_KEY || '';\n\nif (!apiKey) throw new Error('SENDGRID_API_KEY environment variable is not set');\n\nconst payload = {\n  personalizations: [{ to: [{ email: toEmail }], subject }],\n  from: { email: fromEmail, name: fromName },\n  content: [{ type: 'text/plain', value: body }]\n};\n\nconst response = await this.helpers.httpRequest({\n  method: 'POST',\n  url: 'https://api.sendgrid.com/v3/mail/send',\n  headers: {\n    'Authorization': `Bearer ${apiKey}`,\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify(payload)\n});\n\nreturn { success: true, to: toEmail, subject, from: fromEmail };"
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000007",
      "name": "Tool: Send Email",
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1.1,
      "position": [1140, 520]
    },
    {
      "parameters": {
        "name": "check_crm_history",
        "description": "Check Google Sheets CRM for previous contact history with a prospect to avoid duplicate outreach and personalize follow-ups.",
        "method": "GET",
        "url": "https://sheets.googleapis.com/v4/spreadsheets/REPLACE_WITH_SPREADSHEET_ID/values/CRM",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleSheetsOAuth2Api",
        "options": {}
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000008",
      "name": "Tool: CRM History",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [1360, 520]
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "REPLACE_WITH_SPREADSHEET_ID",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "CRM",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "date": "={{ $now.toISO() }}",
            "daily_summary": "={{ $json.output }}",
            "leads_found": "={{ JSON.parse($json.output || '{}').leadsFound?.length || 0 }}",
            "outreach_sent": "={{ JSON.parse($json.output || '{}').outreachMessages?.length || 0 }}"
          }
        },
        "options": {}
      },
      "id": "d4e5f6g7-0004-0004-0004-000000000009",
      "name": "Log to CRM Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [960, 300],
      "continueOnFail": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "REPLACE_WITH_YOUR_GSHEETS_CREDENTIAL_ID",
          "name": "Google Sheets"
        }
      }
    }
  ],
  "connections": {
    "Schedule: Daily 9am": {
      "main": [
        [{ "node": "Set Sales Context", "type": "main", "index": 0 }]
      ]
    },
    "Set Sales Context": {
      "main": [
        [{ "node": "Sales Agent", "type": "main", "index": 0 }]
      ]
    },
    "Sales Agent": {
      "main": [
        [{ "node": "Log to CRM Sheet", "type": "main", "index": 0 }]
      ]
    },
    "OpenAI GPT-4o": {
      "ai_languageModel": [
        [{ "node": "Sales Agent", "type": "ai_languageModel", "index": 0 }]
      ]
    },
    "Sales Memory": {
      "ai_memory": [
        [{ "node": "Sales Agent", "type": "ai_memory", "index": 0 }]
      ]
    },
    "Tool: Find Leads": {
      "ai_tool": [
        [{ "node": "Sales Agent", "type": "ai_tool", "index": 0 }]
      ]
    },
    "Tool: Send Email": {
      "ai_tool": [
        [{ "node": "Sales Agent", "type": "ai_tool", "index": 1 }]
      ]
    },
    "Tool: CRM History": {
      "ai_tool": [
        [{ "node": "Sales Agent", "type": "ai_tool", "index": 2 }]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true
  },
  "meta": { "instanceId": "ai-company-v1" },
  "tags": [
    { "name": "sales", "createdAt": "2026-02-24" },
    { "name": "outreach", "createdAt": "2026-02-24" }
  ],
  "notes": "Runs daily at 9:00am. Finds 10 leads/day, writes personalized outreach, logs to CRM sheet. REQUIRED env vars: SENDGRID_API_KEY, SENDGRID_FROM_EMAIL (your verified sender), COMPANY_NAME. Set these in n8n → Settings → Environment Variables before activating."
}
